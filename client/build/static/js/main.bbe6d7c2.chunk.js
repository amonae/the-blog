(this["webpackJsonpthe-blog"]=this["webpackJsonpthe-blog"]||[]).push([[0],{18:function(e,t,n){e.exports={"writeon-landing":"landing_writeon-landing__3rIM5","header-right":"landing_header-right__2gDPL","writeon-logo":"landing_writeon-logo__222y3",login:"landing_login__1c9tT",signup:"landing_signup__19zcr","mobile-menu-icon":"landing_mobile-menu-icon__tlIKd","mobile-menu":"landing_mobile-menu__DKlPW","mobile-menu-hidden":"landing_mobile-menu-hidden__1GcmD","signup-mobile":"landing_signup-mobile__3i5-U","login-mobile":"landing_login-mobile__2k2ls",container:"landing_container__EVQUI",header:"landing_header__vLyDl",subtitle:"landing_subtitle__18pkx","hero-img":"landing_hero-img__2tDPU",features:"landing_features__2wP81","features-container":"landing_features-container__33VDo",feature:"landing_feature__1aqVp","feature-flipped":"landing_feature-flipped__20JUd","feature-img":"landing_feature-img__Bqm8F","feature-flipped-img":"landing_feature-flipped-img__3KKnb","text-container":"landing_text-container__28wMY","feature-heading":"landing_feature-heading__1hOiz","feature-description":"landing_feature-description__bAgDe",footer:"landing_footer__2vNF4","footer-right":"landing_footer-right__3cVQ_"}},196:function(e,t,n){e.exports={"post-title":"text-editor_post-title__Ynm2U"}},218:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return bt}));var c=n(1),o=n(58),i=n.n(o),a=(n(217),n(24)),s=(n(218),n(49)),r=n(21),l=n(39),d=n(6),j=n(374),u=n(376),b=n(366),m=n(367),O=(n(219),n(220),n(352)),h=n(57),x=n(202),p=n(2);function g(e){const t=e.isOpen,n=e.leastDestructiveRef,c=e.onClose,o=e.deleteAlertRef,i=e.closeDeleteAlert,a=e.handleDelete;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(O.a,{isOpen:t,leastDestructiveRef:n,onClose:c,isCentered:!0,children:Object(p.jsx)(h.g,{children:Object(p.jsxs)(O.b,{children:[Object(p.jsx)(h.f,{fontSize:"lg",fontWeight:"bold",children:"Delete Post"}),Object(p.jsx)(h.b,{children:"Are you sure you want to delete this post? This action cannot be undone!"}),Object(p.jsxs)(h.e,{children:[Object(p.jsx)(x.a,{ref:o,onClick:i,children:"Cancel"}),Object(p.jsx)(x.a,{colorScheme:"red",onClick:a,ml:3,children:"Delete"})]})]})})})})}var f=n(36),_=n.n(f),w=n(365),C=n(361),v=n(359),y=n(379),N=n(75),M=n(71),S=n(195),k=n(373);const P=Object(j.a)(),L=Object(c.createContext)();function D(e){const t=Object(c.useState)(!1),n=Object(d.a)(t,2),o=n[0],i=n[1],a=Object(c.useRef)();return Object(p.jsx)(L.Provider,{value:{isDeleteAlertOpen:o,setIsDeleteAlertOpen:i,closeDeleteAlert:()=>i(!1),deleteAlertRef:a,deletePostErrorT:()=>P({title:"An error has occured.",description:"There was an issue deleting your note. Please try again.",status:"error",duration:5e3,isClosable:!0})},children:e.children})}function A(e){const t=Object(c.useContext)(L).setIsDeleteAlertOpen;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(k.b,{"aria-label":"More Menu",text:"More Menu",as:v.a,icon:e.menuIcon,variant:"unstyled",className:e.menuButton,onClick:t=>{t.stopPropagation(),e.setClickedPostId&&e.setClickedPostId()}}),Object(p.jsx)(k.d,{children:Object(p.jsx)(k.c,{onClick:e=>{e.stopPropagation(),t(!0)},children:"Delete Post"})})]})})}var I=n(66),E=n.n(I),F=n(358);const R=Object(c.createContext)();var T=n(360),W=n(378);const z=Object(c.createContext)();function q({onOpen:e,currentMode:t,text:n}){const o=Object(c.useContext)(R),i=o.modeDispatch,a=o.toggledSwitches,s=Object(c.useContext)(z).timeLimitDispatch;function r(){l&&(i({type:"mode",payload:t}),e())}function l(){return a.includes(t)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.c,{isDisabled:!l(),onClick:()=>r(),children:Object(p.jsx)(T.a,{children:n})}),Object(p.jsx)(C.a,{className:E.a["toggle-container"],children:Object(p.jsx)(W.a,{isChecked:l(),onChange:()=>function(){if(a.includes(t)){const e=a.filter((e=>e!==t));switch(i({type:"toggledSwitches",payload:e}),t){case"wordCountMode":i({type:"wordCountGoal",payload:null});break;case"timeLimitMode":s({type:"timeLimit",payload:null}),s({type:"isCountdownActive",payload:!1}),s({type:"count",payload:null});break;case"promptMode":i({type:"words",payload:[]}),i({type:"promptModeError",payload:null}),i({type:"numberOfWords",payload:0})}}else i({type:"toggledSwitches",payload:[...a,t]}),r()}()})})]})}var B=n(363),U=n(364),G=n(74),V=n.n(G),$=n(375);function Y(){const e=Object(c.useContext)(R),t=e.modeDispatch,n=e.promptModeError;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsxs)($.c,{className:V.a["number-input"],allowMouseWheel:!0,size:"md",maxW:24,min:0,max:10,defaultValue:0,onChange:e=>function(e){t({type:"numberOfWords",payload:Number(e)})}(e),children:[Object(p.jsx)($.d,{}),Object(p.jsxs)($.e,{children:[Object(p.jsx)($.b,{}),Object(p.jsx)($.a,{})]})]}),Object(p.jsx)(T.a,{children:"words"}),n&&Object(p.jsx)("p",{children:n.errorMessage})]})})}function K(){const e=Object(c.useContext)(z),t=e.timeLimitNumberInputRef,n=e.isCountdownActive;e.count;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{spacing:"10px",children:[Object(p.jsxs)($.c,{className:V.a["number-input"],allowMouseWheel:!0,size:"lg",maxW:"5rem",min:0,defaultValue:0,isDisabled:n,children:[Object(p.jsx)($.d,{ref:t}),Object(p.jsxs)($.e,{children:[Object(p.jsx)($.b,{}),Object(p.jsx)($.a,{})]})]}),Object(p.jsx)(T.a,{children:"minutes"})]})})}function J(){const e=Object(c.useContext)(R),t=e.numberInputRef,n=e.wordCountGoal;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.a,{children:[Object(p.jsxs)($.c,{className:V.a["number-input"],allowMouseWheel:!0,size:"md",min:0,ref:t,defaultValue:n,children:[Object(p.jsx)($.d,{}),Object(p.jsxs)($.e,{children:[Object(p.jsx)($.b,{}),Object(p.jsx)($.a,{})]})]}),Object(p.jsx)(T.a,{children:"words"})]})})}function Q({isOpen:e,onClose:t,mode:n,quillEditor:o}){const i=Object(c.useContext)(R),a=i.modeDispatch,s=i.toggledSwitches,r=i.numberInputRef,l=i.getWords,d=Object(c.useContext)(z).activateCountdown;function j(e){if(t(),s.includes(e)){const t=s.filter((t=>t!==e));a({type:"toggledSwitches",payload:t})}}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(h.a,{isCentered:!0,closeOnOverlayClick:!1,motionPreset:"slideInBottom",size:"xs",isOpen:e,onClose:t,onEsc:()=>j(n),children:[Object(p.jsx)(h.g,{}),Object(p.jsxs)(h.d,{children:[Object(p.jsxs)(h.f,{pb:"0.5rem",children:["timeLimitMode"===n&&"Time Limit Mode","wordCountMode"===n&&"Word Count Mode","promptMode"===n&&"Random Words Mode"]}),Object(p.jsx)(B.a,{style:{width:"90%",margin:"0 auto"}}),Object(p.jsxs)(h.b,{pt:"1rem",pb:"1rem",children:["timeLimitMode"===n&&Object(p.jsxs)("div",{children:[Object(p.jsx)(T.a,{m:"0 auto",children:"What would you like your time limit to be set to?"}),Object(p.jsx)(U.a,{children:Object(p.jsx)(C.a,{className:E.a["modal-body"],children:Object(p.jsx)(K,{})})})]}),"wordCountMode"===n&&Object(p.jsxs)("div",{children:[Object(p.jsx)(T.a,{m:"0 auto",children:"What would you like your word count goal to be?"}),Object(p.jsx)(C.a,{className:E.a["modal-body"],children:Object(p.jsx)(U.a,{children:Object(p.jsx)(J,{quillEditor:o})})})]}),"promptMode"===n&&Object(p.jsxs)("div",{children:[Object(p.jsx)(T.a,{m:"0 auto",children:"How many words would you like to generate?"}),Object(p.jsx)(C.a,{className:E.a["modal-body"],children:Object(p.jsx)(U.a,{children:Object(p.jsx)(Y,{})})})]})]}),Object(p.jsxs)(h.e,{children:[Object(p.jsx)(x.a,{variant:"outline",mr:3,onClick:()=>j(n),children:"Close"}),"wordCountMode"===n&&Object(p.jsx)(x.a,{colorScheme:"blue",onClick:()=>{t(),a({type:"wordCountGoal",payload:r.current.firstChild.value})},children:"Set Word Count"}),"promptMode"===n&&Object(p.jsx)(x.a,{colorScheme:"blue",onClick:()=>{t(),l()},children:"Generate"}),"timeLimitMode"===n&&Object(p.jsx)(x.a,{colorScheme:"blue",onClick:()=>{t(),d()},children:"Set Timer"})]})]})]})})}function X(){const e=Object(c.useContext)(R),t=e.mode,n=e.isOpen,o=e.onOpen,i=e.onClose,a=n;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.a,{closeOnSelect:!1,closeOnBlur:!a,children:({isOpen:e})=>Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k.b,{as:x.a,isActive:e,variant:"outline",rightIcon:e?Object(p.jsx)(M.c,{}):Object(p.jsx)(M.b,{}),className:E.a["dropdown-menu"],children:"Modes"}),Object(p.jsx)(k.d,{children:Object(p.jsxs)("div",{children:[Object(p.jsx)(q,{currentMode:"timeLimitMode",onOpen:o,text:"Time Limit Mode"}),Object(p.jsx)(q,{currentMode:"wordCountMode",onOpen:o,text:"Word Count Mode"}),Object(p.jsx)(q,{currentMode:"promptMode",onOpen:o,text:"Prompt Mode"})]})})]})}),Object(p.jsx)(Q,{mode:t,isOpen:n,onClose:i})]})}function H(e){let t=Object.assign({},e);const n=t.words,c=t.mode,o=t.handleTimeLimitMode,i=t.timeLimitMode,a=t.wordCountMode,s=t.promptMode,r=t.wordCount,l=t.wordCountGoal,d=t.quillEditor,j=t.modeDispatch,u=t.updatePostLoading,b=t.onSaveClick,m=t.onBackBtnClick,O=t.onAlertClick;return Object(p.jsxs)(w.a,{className:_.a["create-new"],children:[Object(p.jsxs)("div",{className:_.a["left-header"],children:[Object(p.jsx)(C.a,{cursor:"pointer",onClick:m,children:Object(p.jsx)(M.a,{className:_.a["editor-left-chevron"]})}),Object(p.jsx)(x.a,{"aria-label":"Save Post",className:_.a["save-btn"],size:"md",variant:"outline",isLoading:u,loadingText:"Saving...",onClick:b,children:"Save"}),Object(p.jsx)(v.a,{"aria-label":"Save Post",isRound:!0,isLoading:u,variant:"outline",size:"lg",icon:Object(p.jsx)(S.a,{className:_.a["save-icon"]}),onClick:b,className:_.a["save-btn-mobile"]})]}),n.length>0&&Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C.a,{className:_.a["words-container"],alignSelf:"center",children:Object(p.jsx)(y.a,{alignSelf:"center",className:_.a["words-list"],children:n.map(((e,t)=>Object(p.jsxs)("div",{className:_.a["word-tag"],children:[" ",e," "]},t)))})})}),Object(p.jsxs)("div",{className:_.a["right-header"],children:[Object(p.jsx)(X,{mode:c,handleTimeLimitMode:o,timeLimitMode:i,wordCountMode:a,promptMode:s,wordCount:r,wordCountGoal:l,modeDispatch:j,quillEditor:d}),Object(p.jsx)(A,{menuIcon:Object(p.jsx)(N.a,{className:_.a["menu-icon"]}),onAlertClick:O})]})]})}var Z=n(196),ee=n.n(Z),te=n(380),ne=n(197),ce=n.n(ne);function oe(e){const t=e.quillEditorRef,n=e.getWordCount,c=e.postTitle,o=e.currentPost;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(te.a,{ref:c,className:ee.a["post-title"],defaultValue:o?o.title:"Untitled",children:[Object(p.jsx)(te.c,{}),Object(p.jsx)(te.b,{})]}),Object(p.jsx)(ce.a,{scrollingContainer:"html",onKeyUp:n,ref:t,theme:"bubble"})]})}var ie,ae,se,re,le,de=n(80);const je=Object(a.gql)(ie||(ie=Object(de.a)(["\n  mutation($title: String!) {\n    createPost(title: $title) {\n      _id\n      title\n      dateCreated\n    }\n  }\n"]))),ue=Object(a.gql)(ae||(ae=Object(de.a)(["\n  mutation(\n    $id: ID!\n    $title: String\n    $deltaContent: String\n    $textContent: String\n  ) {\n    updatePost(\n      id: $id\n      postInput: {\n        title: $title\n        textContent: $textContent\n        deltaContent: $deltaContent\n      }\n    ) {\n      _id\n      title\n      dateCreated\n      dateModified\n      deltaContent\n      textContent\n      author {\n        _id\n      }\n    }\n  }\n"]))),be=Object(a.gql)(se||(se=Object(de.a)(["\n  query($id: ID!) {\n    getPostById(id: $id) {\n      ... on NewPost {\n        _id\n        title\n        dateCreated\n      }\n      ... on ExistingPost {\n        _id\n        title\n        dateCreated\n        deltaContent\n        textContent\n        dateModified\n      }\n    }\n  }\n"]))),me=Object(a.gql)(re||(re=Object(de.a)(["\n  query {\n    posts {\n      ... on NewPost {\n        _id\n        title\n        dateCreated\n        author {\n          _id\n        }\n      }\n      ... on ExistingPost {\n        _id\n        title\n        dateCreated\n        dateModified\n        deltaContent\n        textContent\n        author {\n          _id\n        }\n      }\n    }\n  }\n"]))),Oe=Object(a.gql)(le||(le=Object(de.a)(["\n  mutation($id: ID!) {\n    deletePost(id: $id) {\n      ... on NewPost {\n        _id\n        title\n        dateCreated\n        author {\n          _id\n        }\n      }\n      ... on ExistingPost {\n        _id\n        title\n        dateCreated\n        dateModified\n        deltaContent\n        textContent\n        author {\n          _id\n        }\n      }\n    }\n  }\n"])));var he=n(357);function xe(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(U.a,{mt:"50vh",children:Object(p.jsx)(he.a,{thickness:"4px",speed:"0.65s",color:"#9e9e9e",size:"xl"})})})}var pe=n(81),ge=n.n(pe);function fe(){let e=Object(c.useRef)(null),t=Object(c.useRef)(null);const n=Object(c.useContext)(z),o=n.timeLimit,i=n.count,s=Object(c.useContext)(R),O=s.mode,h=s.isOpen,x=s.wordCountGoal,f=s.wordCount,_=s.timeLimitMode,w=s.wordCountMode,C=s.promptMode,v=s.words,y=s.modeDispatch,N=s.toggledSwitches,M=s.initialState,S=Object(c.useContext)(L),k=S.isDeleteAlertOpen,P=S.setIsDeleteAlertOpen,D=S.closeDeleteAlert,A=S.deleteAlertRef,I=S.deletePostErrorT,E=h,F=Object(j.b)(),T=Object(j.b)(),W=Object(r.i)().id,q=Object(c.useState)(W),B=Object(d.a)(q,1)[0],U=Object(c.useState)(null),G=Object(d.a)(U,2),V=G[0],$=G[1],Y=Object(c.useState)(!1),K=Object(d.a)(Y,2),J=K[0],Q=K[1],X=Object(c.useState)(!0),Z=Object(d.a)(X,2),ee=Z[0],te=Z[1];let ne=Object(r.h)();const ce=Object(u.a)({base:"4rem",md:"5rem"}),ie=Object(a.useMutation)(ue,{onCompleted:()=>{_e({title:"Post saved!",status:"success",duration:2e3,isClosable:!0})}}),ae=Object(d.a)(ie,2),se=ae[0],re=ae[1],le=re.error,de=re.loading,je=Object(a.useQuery)(be,{variables:{id:B},onCompleted:e=>{$(Object(l.a)({},e.getPostById)),te(!1)},fetchPolicy:"network-only"}).error,me=Object(a.useMutation)(Oe,{variables:{id:B},onCompleted:()=>{Q(!0)}}),he=Object(d.a)(me,2),pe=he[0],fe=he[1].error;return Object(c.useEffect)((()=>{if(V&&V.deltaContent){let t=JSON.parse(V.deltaContent);e.current.editor.setContents(t.ops)}}),[V]),Object(c.useEffect)((()=>()=>{for(var e=0,t=Object.entries(M);e<t.length;e++){const n=Object(d.a)(t[e],2),c=n[0],o=n[1];y({type:"".concat(c),payload:"".concat(o)})}}),[]),Object(c.useEffect)((()=>{0===i&&F({title:"Time is up!",duration:5e3,status:"info",isClosable:!0})}),[i]),Object(p.jsxs)(p.Fragment,{children:[(J||je)&&Object(p.jsx)(r.a,{push:!0,to:"/dashboard"}),ee?Object(p.jsx)(xe,{}):Object(p.jsxs)("div",{className:ge.a.wrapper,children:[Object(p.jsx)(H,{words:v,mode:O,handleTimeLimitMode:function(){y({type:"timeLimitMode",payload:!_})},timeLimitMode:_,wordCountMode:w,promptMode:C,wordCount:f,wordCountGoal:x,quillEditor:e,modeDispatch:y,quillEditor:e,updatePostLoading:de,onSaveClick:()=>function(){let n=e.current.editor.getText(),c=e.current.editor.getContents(),o=t.current.children[1].value;if(n.length>2e4)return T({title:"An error has occured.",description:"Note is too long. The maximum note length is 20,000 characters.",status:"error",duration:5e3,isClosable:!0});se({variables:{id:B,title:o,deltaContent:JSON.stringify(c),textContent:n}}),le&&we({title:"An error has occured.",description:"There was an issue saving your note. Please try again.",status:"error",duration:5e3,isClosable:!0})}(),onBackBtnClick:()=>{ne.push("/dashboard")},onAlertClick:()=>P(!0)}),Object(p.jsx)(g,{isOpen:k,leastDestructiveRef:A,onClose:D,isCentered:!0,deleteAlertRef:A,closeDeleteAlert:()=>D(),handleDelete:()=>(pe({variables:{id:B}}),D(),void(fe&&I()))}),x&&Object(p.jsx)(b.a,{value:f,max:x,colorScheme:f<=x?"blue":"green",className:ge.a["word-count-progress-bar"]}),x&&Object(p.jsx)("p",{className:ge.a["word-count"],children:"".concat(f,"/").concat(x," words")}),Object(p.jsx)("div",{className:ge.a["editor-container"],children:Object(p.jsx)(oe,{currentPost:V,postTitle:t,getWordCount:()=>function(){let t=e.current.getEditor().getText().match(/\b[-?(\w+)?]+\b/gi);t&&y({type:"wordCount",payload:t.length})}(),quillEditorRef:e})}),N.includes("timeLimitMode")&&!E&&Object(p.jsx)(m.a,{value:i&&NaN!==i?i:0,min:0,max:o&&0!==o?o:1,size:ce,color:"green.400",className:ge.a["time-limit-circle"],children:Object(p.jsx)(m.b,{})})]})]})}const _e=Object(j.a)(),we=Object(j.a)();var Ce=n(79),ve=n.n(Ce),ye=n(122),Ne=n(82),Me=n.n(Ne),Se=n(370),ke=n(93),Pe=n(201);const Le=Object(c.createContext)({});const De=Object(c.createContext)({});var Ae=n(68),Ie=n.n(Ae),Ee=n(368),Fe=n(369);const Re=Object(c.createContext)({});function Te({children:e,classname:t}){return Object(p.jsx)(w.a,{className:t||_.a.header,children:e})}var We=n.p+"static/media/writeon.052763fe.svg";function ze({children:e}){const t=Object(c.useState)(!1),n=Object(d.a)(t,2),o=n[0],i=(n[1],Object(c.useContext)(Re).setNewPost),s=Object(c.useContext)(Le),l=s.setSearchInput,j=s.setSearchBarFocused,u=Object(F.a)(),b=u.isOpen,m=u.onOpen,O=u.onClose,g=Object(c.useRef)(),f=Object(a.useMutation)(je,{onCompleted:e=>{O(),i({id:e.createPost._id})}}),_=Object(d.a)(f,2),w=_[0],y=_[1],M=y.error,S=y.loading,P=y.data,L=y.called;function D(){return(D=Object(ye.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=g.current.value.toString(),w({variables:{title:t}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(p.Fragment,{children:[L&&P&&Object(p.jsx)(r.a,{push:!0,to:Object(r.f)("/write/:id",{id:P.createPost._id})}),o&&Object(p.jsx)(r.a,{push:!0,to:"/logout"}),Object(p.jsxs)(Te,{className:Ie.a.header,children:[Object(p.jsx)(C.a,{as:"a",href:"https://writeon-app.herokuapp.com/",className:"logo",children:Object(p.jsx)("img",{src:We,className:Ie.a.writeon})}),Object(p.jsx)(Ee.a,{width:"50%",children:Object(p.jsx)(Fe.a,{placeholder:"Search",bg:"#efefef",border:"none",width:"100%",maxW:"1000px",m:"0 auto",size:"lg",onChange:e=>function(e){l(e.target.value)}(e),onFocus:()=>j(!0),onBlur:()=>j(!1),_focus:{backgroundColor:"#ffffff",shadow:"xs"}})}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)("button",{"aria-label":"Create Note",onClick:m,className:Ie.a["create-new-btn"],children:"Create Note"}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)(k.b,{as:v.a,variant:"unstyled",icon:Object(p.jsx)(N.a,{}),className:Ie.a["header-menu-btn"],children:"Actions"}),Object(p.jsx)(k.d,{children:Object(p.jsx)(k.c,{onClick:()=>settToLogout(!0),children:"Log out"})})]})]})]}),Object(p.jsx)("div",{className:Ie.a.container,children:e}),Object(p.jsxs)(h.a,{size:"sm",initialFocusRef:g,isOpen:b,onClose:O,isCentered:!0,children:[Object(p.jsx)(h.g,{}),Object(p.jsxs)(h.d,{children:[Object(p.jsx)(h.f,{children:"Create New Note"}),Object(p.jsx)(B.a,{style:{width:"90%",margin:"0 auto"}}),Object(p.jsx)(h.c,{}),Object(p.jsx)(h.b,{children:Object(p.jsx)("div",{style:{marginTop:"1rem"},children:S?Object(p.jsx)(U.a,{children:Object(p.jsx)(he.a,{thickness:"4px",speed:"0.65s",color:"#9e9e9e",size:"xl"})}):Object(p.jsxs)("div",{children:[Object(p.jsx)("p",{children:"Title"}),Object(p.jsx)(Fe.a,{ref:g,size:"lg"}),M&&Object(p.jsx)("p",{className:Ie.a["modal-error"],children:"There was an error creating your note. Please try again."})]})})}),Object(p.jsxs)(h.e,{children:[Object(p.jsx)(x.a,{variant:"outline",mr:3,onClick:O,children:"Close"}),Object(p.jsx)(x.a,{onClick:()=>function(){return D.apply(this,arguments)}(),colorScheme:"blue",children:"Create Note"})]})]})]})]})}var qe=n(94),Be=n.n(qe),Ue=n(200);function Ge({title:e,textContent:t,_id:n,gridView:o,setClickedPostId:i}){const a=Object(c.useState)(!1),s=Object(d.a)(a,2),l=s[0],j=s[1];return Object(p.jsxs)(p.Fragment,{children:[l&&Object(p.jsx)(r.a,{push:!0,to:Object(r.f)("/write/:id",{id:n})}),Object(p.jsxs)(C.a,{className:"notecard",onClick:e=>{j(!0)},children:[Object(p.jsx)("div",{className:Be.a["home-note-menu-container"],children:Object(p.jsx)(A,{menuIcon:Object(p.jsx)(N.a,{className:Be.a["menu-icon"]}),menuButton:"menu-icon-two",_id:n,setClickedPostId:()=>i(n)})}),Object(p.jsx)(C.a,{as:"h2",className:Be.a.title,children:e}),Object(p.jsx)(C.a,{className:Be.a.content,children:Object(p.jsx)(Ue.a,{lines:o?7:4,width:o?0:600,children:t})})]})]})}function Ve({posts:e,gridView:t}){const n=Object(c.useContext)(Le).searchInput,o=Object(c.useState)([]),i=Object(d.a)(o,2),a=i[0],s=i[1];return Object(c.useEffect)((()=>{!function(){if(e&&n&&n.length>2){let t=e.filter((e=>{var t;const c=new RegExp("".concat(n),"gi");return e.title.match(c)||(null===e||void 0===e||null===(t=e.textContent)||void 0===t?void 0:t.match(c))}));s(t)}}()}),[n,e]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(C.a,{className:t?"grid-view":"list-view",children:a&&a.map((e=>Object(p.jsx)(Ge,{_id:e._id,title:e.title,textContent:e.textContent&&e.textContent},e._id)))})})}function $e(){const e=Object(c.useContext)(De).user,t=Object(c.useContext)(Le),n=t.searchInput,o=t.setSearchInput,i=Object(c.useContext)(L),s=i.isDeleteAlertOpen,l=i.deleteAlertRef,j=i.closeDeleteAlert,u=i.deletePostErrorT,b=Object(r.h)(),m=Object(c.useState)(!0),O=Object(d.a)(m,2),h=O[0],x=O[1],f=Object(c.useState)(null),_=Object(d.a)(f,2),v=_[0],y=_[1],N=Object(c.useState)(!0),S=Object(d.a)(N,2),k=S[0],P=S[1],D=Object(c.useState)("dateModified"),A=Object(d.a)(D,2),I=A[0],E=A[1],F=Object(c.useState)("ascending"),R=Object(d.a)(F,2),T=R[0],W=R[1],z=Object(c.useState)(),q=Object(d.a)(z,2),B=q[0],U=q[1],G=Object(a.useQuery)(me,{onCompleted:e=>{y(e.posts),x(!1)},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0}),V=(G.called,G.refetch),$=Object(a.useMutation)(Oe,{variables:{id:B}}),Y=Object(d.a)($,2),K=Y[0],J=Y[1].error;function Q(e,t,n){if("title"===n){let n=e.title.toUpperCase(),c=t.title.toUpperCase();return n<c?"ascending"===T?-1:1:n>c?"ascending"===T?1:-1:0}{let c=new Date(e[n]),o=new Date(t[n]);return"ascending"===T?c-o:o-c}}function X(){return(X=Object(ye.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K({variables:{id:B}});case 2:j(),J&&u(),V();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((()=>{e||b.push("/login")}),[e]),Object(c.useEffect)((()=>()=>{o("")}),[]),Object(c.useEffect)((()=>{if(v)switch(I){case"title":let e=v.slice().sort(((e,t)=>Q(e,t,"title")));y(e);break;case"dateCreated":let t=v.slice().sort(((e,t)=>Q(e,t,"dateCreated")));y(t);break;case"dateModified":let n=v.slice().sort(((e,t)=>Q(e,t,"dateModified")));y(n)}}),[I,T]),Object(p.jsx)(p.Fragment,{children:h||null===v?Object(p.jsx)(xe,{}):Object(p.jsx)(ze,{children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(g,{isOpen:s,leastDestructiveRef:l,onClose:j,isCentered:!0,deleteAlertRef:l,closeDeleteAlert:()=>j(),handleDelete:()=>function(){return X.apply(this,arguments)}()}),Object(p.jsxs)(w.a,{mb:"1rem",justifyContent:"flex-end",className:Me.a["view-menu"],children:[Object(p.jsxs)(Se.a,{width:"180px",justifySelf:"end",mr:"1rem",onChange:e=>E(e.target.value),children:[Object(p.jsx)("option",{value:"dateModified",children:"Date Last Edited"}),Object(p.jsx)("option",{value:"title",children:"Title"}),Object(p.jsx)("option",{value:"dateCreated",children:"Date Created"})]}),Object(p.jsx)(C.a,{onClick:"ascending"===T?()=>W("descending"):()=>W("ascending"),children:"ascending"===T?Object(p.jsx)(ke.b,{"aria-label":"Ascending",title:"Ascending",className:Me.a["ascending-icon"]}):Object(p.jsx)(ke.c,{"aria-label":"Descending",title:"Descending",className:Me.a["ascending-icon"]})}),Object(p.jsx)(C.a,{children:k?Object(p.jsx)(M.d,{"aria-label":"List view",title:"List view",onClick:()=>P(!k),className:Me.a["list-view-icon"]}):Object(p.jsx)(Pe.a,{"aria-label":"Grid view",title:"Grid view",onClick:()=>P(!k),className:Me.a["grid-view-icon"]})})]}),n&&n.length>2?Object(p.jsx)(Ve,{posts:v,gridView:k}):Object(p.jsx)(C.a,{className:k?"grid-view":"list-view",children:v&&v.map((e=>Object(p.jsx)(Ge,{_id:e._id,title:e.title,textContent:e.textContent&&e.textContent,gridView:k,setClickedPostId:U},e._id)))})]})})})}var Ye=n(52),Ke=n.n(Ye);function Je(){const e=Object(c.useContext)(De).user;return Object(p.jsx)(p.Fragment,{children:e?Object(p.jsx)(r.a,{push:!0,to:"/dashboard"}):Object(p.jsx)(U.a,{className:Ke.a.wrapper,children:Object(p.jsx)(C.a,{m:"3rem",className:Ke.a.login,children:Object(p.jsxs)("div",{children:[Object(p.jsx)(U.a,{children:Object(p.jsx)("a",{href:"#",className:Ke.a["write-on"],children:"WriteOn"})}),Object(p.jsxs)("form",{action:"https://writeon-app.herokuapp.com/login",method:"POST",className:Ke.a.form,children:[Object(p.jsx)("label",{htmlFor:"username",children:"Username"}),Object(p.jsx)(Fe.a,{type:"text",name:"username",value:"username",mb:"3",size:"lg"}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsx)(Fe.a,{type:"password",value:"password",name:"password",size:"lg"}),Object(p.jsx)("button",{type:"submit",className:Ke.a["login-btn"],children:"Login"}),Object(p.jsxs)("div",{className:Ke.a.or,children:[Object(p.jsx)("div",{className:Ke.a.line}),Object(p.jsx)("span",{children:"or"}),Object(p.jsx)("div",{className:Ke.a.line})]}),Object(p.jsx)("button",{className:Ke.a["signup-btn"],children:"Sign Up (Coming Soon!)"})]})]})})})})}var Qe=n(371);function Xe(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(U.a,{h:"100vh",children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(U.a,{children:Object(p.jsx)("span",{style:{fontSize:"3rem"},children:"\ud83d\ude32"})}),Object(p.jsx)(Qe.a,{size:"xl",children:"Page Not Found!"}),Object(p.jsx)("p",{children:"Let's go somewhere else now, shall we?"}),Object(p.jsx)(U.a,{children:Object(p.jsx)(x.a,{bg:"#000",color:"#fff",children:"Home"})})]})})})}var He=n(203);const Ze=e=>{let t=e.component,n=e.user,c=Object(He.a)(e,["component","user"]);return Object(p.jsx)(r.b,Object(l.a)(Object(l.a)({},c),{},{render:e=>n?Object(p.jsx)(t,Object(l.a)(Object(l.a)({},c),e)):Object(p.jsx)(r.a,{to:{pathname:"/",state:{from:e.location}}})}))};var et=n(18),tt=n.n(et),nt=n.p+"static/media/writeon-demo.0106e2be.png",ct=n.p+"static/media/writeon-search-demo.a758b05c.gif",ot=n.p+"static/media/writeon-editor-demo.a6d02842.gif",it=n(372);function at(){const e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(!1),a=Object(d.a)(i,2),s=a[0],l=a[1],j=Object(c.useContext)(De),u=j.user,b=j.loading;function m(){const e=window.pageYOffset;o(e)}return Object(c.useLayoutEffect)((()=>(window.addEventListener("scroll",m,{passive:!0}),()=>{window.removeEventListener("scroll",m)})),[window.pageYOffset]),Object(p.jsxs)(p.Fragment,{children:[u&&Object(p.jsx)(r.a,{push:!0,to:"/dashboard"}),b?Object(p.jsx)(xe,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Te,{classname:n>0||s?"landing-header":"landing-header-top",children:[Object(p.jsx)(C.a,{as:"a",href:"https://writeon.ink/",className:tt.a["writeon-logo"],children:Object(p.jsx)("img",{src:We,className:tt.a["writeon-landing"]})}),Object(p.jsx)(it.a,{className:tt.a["header-spacer"]}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)("button",{className:tt.a.login,children:Object(p.jsx)("a",{href:"/login",children:"Login"})}),Object(p.jsx)("button",{className:tt.a.signup,disabled:!0,children:"Sign Up"}),Object(p.jsx)("button",{className:tt.a["mobile-menu-icon"],onClick:()=>l(!s),children:Object(p.jsx)(v.a,{icon:Object(p.jsx)(ke.a,{}),variant:"unstyled","aria-label":"Mobile menu"})})]})]}),Object(p.jsxs)("div",{className:s?tt.a["mobile-menu"]:tt.a["mobile-menu-hidden"],children:[Object(p.jsx)("button",{className:tt.a["login-mobile"],children:"Login"}),Object(p.jsx)("button",{className:tt.a["signup-mobile"],disabled:!0,children:"Sign Up"})]}),Object(p.jsx)("section",{className:tt.a.hero,children:Object(p.jsxs)("div",{className:tt.a.container,children:[Object(p.jsx)("h1",{className:tt.a.header,children:"Unleash Your Creativity"}),Object(p.jsx)("h3",{className:tt.a.subtitle,children:"Or jot down your thoughts. Whatever works for you."}),Object(p.jsx)("div",{className:tt.a["hero-img"],children:Object(p.jsx)("img",{src:nt,alt:"WriteOn dashboard"})})]})}),Object(p.jsx)("section",{className:tt.a.features,children:Object(p.jsxs)("div",{className:tt.a["features-container"],children:[Object(p.jsx)(st,{heading:"Seamless Writing Experience",description:"Format text how you'd like. Insert quotes, links, and create\r headings.",image:ot,imageAlt:""}),Object(p.jsx)(st,{heading:"Boost Your Creativity",description:"Set a word count goal, a time limit, or generate random words for inspiration.",classname:tt.a["feature-flipped"],image:"/",imageAlt:""}),Object(p.jsx)(st,{heading:"Instantly Find Notes",description:"Search through all of your notes. Get results as you type.",image:ct,imageAlt:""})]})}),Object(p.jsxs)("div",{className:tt.a.footer,children:[Object(p.jsx)("span",{className:tt.a["footer-left"],children:"WriteOn."}),Object(p.jsx)("a",{href:"#",className:tt.a["footer-right"],children:"Made with \ud83d\udc96"})]})]})]})}function st({classname:e,heading:t,description:n,image:c,imageAlt:o}){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:e||tt.a.feature,children:[Object(p.jsx)("div",{className:e?tt.a["feature-flipped-img"]:tt.a["feature-img"],children:Object(p.jsx)("img",{src:c,alt:o})}),Object(p.jsxs)("div",{className:tt.a["text-container"],children:[Object(p.jsx)("h2",{className:tt.a["feature-heading"],children:t}),Object(p.jsx)("p",{className:tt.a["feature-description"],children:n})]})]})})}function rt(){const e=Object(c.useContext)(De),t=e.user,n=e.setUser;e.loading;return Object(c.useEffect)((()=>{t&&(fetch("https://writeon-app.herokuapp.com/logout",{credentials:"include"}),n(!1))}),[t]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(r.a,{push:!0,to:"/"})})}function lt(){const e=Object(c.useContext)(De),t=e.user,n=e.loading;return Object(p.jsx)("div",{className:"App",children:n?Object(p.jsx)(xe,{}):Object(p.jsx)(s.a,{children:Object(p.jsxs)(r.d,{children:[Object(p.jsx)(r.b,{exact:!0,path:"/login",component:Je}),Object(p.jsx)(r.b,{exact:!0,path:"/logout",component:rt}),Object(p.jsxs)(D,{children:[Object(p.jsx)(Ze,{exact:!0,path:"/write/:id",user:t,component:fe}),Object(p.jsx)(Ze,{exact:!0,path:"/dashboard",user:t,component:$e}),Object(p.jsx)(r.b,{exact:!0,path:"/",component:at})]}),Object(p.jsx)(r.b,{path:"*",component:Xe})]})})})}var dt=n(377);const jt=Object(a.createHttpLink)({uri:"https://writeon-app.herokuapp.com/graphql",credentials:"include"}),ut=new a.ApolloClient({cache:new a.InMemoryCache,link:a.ApolloLink.from([jt])});function bt(e){const t=e.components,n=e.children;return Object(p.jsx)(p.Fragment,{children:t.reduceRight(((e,t)=>Object(p.jsx)(t,{children:e})),n)})}const mt=document.getElementById("root");i.a.render(Object(p.jsx)(a.ApolloProvider,{client:ut,children:Object(p.jsx)(dt.a,{children:Object(p.jsx)(bt,{components:[function(e){const t=Object(c.useState)(null),n=Object(d.a)(t,2),o=n[0],i=n[1],a=Object(c.useState)(!o),s=Object(d.a)(a,2),r=s[0],l=s[1];return Object(c.useEffect)((()=>{l(null===o)}),[o]),Object(c.useEffect)((()=>{fetch("https://writeon-app.herokuapp.com/current",{credentials:"include"}).then((e=>e.json())).then((e=>{i(e)}))}),[]),Object(p.jsx)(De.Provider,{value:{user:o,setUser:i,loading:r},children:e.children})},function(e){const t=Object(F.a)(),n=t.isOpen,o=t.onOpen,i=t.onClose,a=Object(c.useRef)(),s={mode:"",wordCountGoal:"",wordCount:0,timeLimitMode:!1,wordCountMode:!1,promptMode:!1,words:[],numberOfWords:0,promptModeError:null,toggledSwitches:[]},r=Object(c.useReducer)((function(e,t){const n=t.type,c=t.payload;return Object(l.a)(Object(l.a)({},e),{},{[n]:c})}),s),j=Object(d.a)(r,2),u=j[0],b=j[1],m=u.mode,O=u.wordCountGoal,h=u.wordCount,x=u.timeLimitMode,g=u.wordCountMode,f=u.promptMode,_=u.words,w=u.numberOfWords,C=u.promptModeError,v=u.toggledSwitches;return Object(p.jsx)(R.Provider,{value:{mode:m,isOpen:n,onOpen:o,onClose:i,wordCountGoal:O,wordCount:h,timeLimitMode:x,wordCountMode:g,promptMode:f,words:_,getWords:function(){if(w>10)return b({type:"promptModeError",payload:{errorMessage:"Number must be below 10."}});b({type:"promptModeError",payload:null}),fetch("https://random-word-api.herokuapp.com/word?number=".concat(w)).then((e=>e.json())).then((e=>b({type:"words",payload:e})))},numberOfWords:w,promptModeError:C,toggledSwitches:v,numberInputRef:a,modeDispatch:b,initialState:s},children:e.children})},function(e){const t=Object(c.useRef)(),n=Object(c.useState)(null),o=Object(d.a)(n,2),i=o[0],a=o[1],s=Object(c.useState)(!1),r=Object(d.a)(s,2),l=r[0],j=r[1];return Object(p.jsx)(Le.Provider,{value:{searchBar:t,searchInput:i,setSearchInput:a,searchBarFocused:l,setSearchBarFocused:j},children:e.children})},function(e){const t=Object(c.useContext)(R).toggledSwitches,n=Object(c.useReducer)((function(e,t){const n=t.type,c=t.payload;return Object(l.a)(Object(l.a)({},e),{},{[n]:c})}),{timeLimit:null,isCountdownActive:!1,count:null}),o=Object(d.a)(n,2),i=o[0],a=o[1],s=i.timeLimit,r=i.isCountdownActive,j=i.count,u=Object(c.useRef)();return function(e,t){const n=Object(c.useRef)();Object(c.useEffect)((()=>{n.current=e}),[e]),Object(c.useEffect)((()=>{if(null!==t){let e=setInterval((function(){n.current()}),t);return()=>clearInterval(e)}}),[t])}((()=>{!j||j<=0||!t.includes("timeLimitMode")?a({type:"isCountdownActive",payload:!1}):!r||j<=0||a({type:"count",payload:j-1})}),j>0?1e3:null),Object(p.jsx)(z.Provider,{value:{timeLimit:s,timeLimitNumberInputRef:u,activateCountdown:function(){const e=u.current.value;e<=0||(a({type:"timeLimit",payload:60*e}),a({type:"count",payload:60*e+1}),a({type:"isCountdownActive",payload:!0}))},isCountdownActive:r,count:j,timeLimitDispatch:a},children:e.children})},function(e){const t=Object(c.useState)(null),n=Object(d.a)(t,2),o=n[0],i=n[1];return Object(p.jsx)(Re.Provider,{value:{newPost:o,setNewPost:i},children:e.children})}],children:Object(p.jsx)(lt,{})})})}),mt)},36:function(e,t,n){e.exports={header:"header_header__iyus8","create-new":"header_create-new__3NfAI","words-container":"header_words-container__17kYb","word-tag":"header_word-tag__3xwKR","words-list":"header_words-list__1an-o","save-btn":"header_save-btn__WTIPR","save-icon":"header_save-icon__1VJHC","save-btn-mobile":"header_save-btn-mobile__37UKL","left-header":"header_left-header__s5Fpv","right-header":"header_right-header__Xioca","editor-left-chevron":"header_editor-left-chevron__iBbSJ","menu-icon":"header_menu-icon__1LnG5"}},52:function(e,t,n){e.exports={wrapper:"login_wrapper__3Y2lo",login:"login_login__TBNXr",form:"login_form__2FDKD",button:"login_button__16d2T","login-btn":"login_login-btn__5xt00","signup-btn":"login_signup-btn__33Ut-","write-on":"login_write-on__4bIo3",line:"login_line__1nSLg",or:"login_or__2DTRm"}},66:function(e,t,n){e.exports={"toggle-container":"mode-menu_toggle-container__13Llz","modal-body":"mode-menu_modal-body__Qd_ET","dropdown-menu":"mode-menu_dropdown-menu__3YIrd","button-text":"mode-menu_button-text__RxgIg","dropdown-menu-mobile":"mode-menu_dropdown-menu-mobile__2XfIx"}},68:function(e,t,n){e.exports={container:"layout_container__3ffbW","create-new-btn":"layout_create-new-btn__1XKYq","header-menu-btn":"layout_header-menu-btn__240HA","modal-error":"layout_modal-error__3j0rb"}},74:function(e,t,n){e.exports={"number-input":"writing-modes_number-input__gC_KA","words-list":"writing-modes_words-list__2O7SZ"}},81:function(e,t,n){e.exports={wrapper:"create-new_wrapper__1hU9b","editor-container":"create-new_editor-container__2x8lp","time-limit-circle":"create-new_time-limit-circle__3VF0K","word-count":"create-new_word-count__1XeOl","word-count-progress-bar":"create-new_word-count-progress-bar__1dQn6"}},82:function(e,t,n){e.exports={"ascending-icon":"home_ascending-icon__2G2jR","grid-view-icon":"home_grid-view-icon__zXQVS","list-view-icon":"home_list-view-icon__3Gibm","view-menu":"home_view-menu__3qngf"}},94:function(e,t,n){e.exports={title:"note-card_title__Vy4z3",content:"note-card_content__1cAbr",menu:"note-card_menu__k-0ks","home-note-menu-container":"note-card_home-note-menu-container__YJ73V","menu-icon":"note-card_menu-icon__1YvCs"}}},[[334,1,2]]]);
//# sourceMappingURL=main.bbe6d7c2.chunk.js.map